# ConductorOne Connector Documentation Rules

## Purpose
This file provides specific guidance for creating and updating connector documentation in the `/baton/` directory.

## Connector Doc Structure

### Required Frontmatter
```yaml
---
title: "Set up a [Connector Name] connector"
og:title: "Set up a [Connector Name] connector"
description: "ConductorOne provides identity governance and just-in-time provisioning for [App]. Integrate your [App] instance with ConductorOne to run user access reviews (UARs), enable just-in-time access requests, and automatically provision and deprovision access."
og:description: "[Same as description]"
sidebarTitle: "[Connector Name]"
---
```

### Standard Sections (in order)

1. **Version callout** (if applicable)
   - Use `<Tip>` component for v2 connectors or updated versions
   - Explain what's new/improved

2. **Capabilities table**
   - Always include this table showing what resources can be synced/provisioned
   - Use green checkmark icons: `<Icon icon="square-check" iconType="solid" color="#65DE23"/>`
   - Format:
     ```markdown
     | Resource | Sync | Provision |
     | :--- | :--- | :--- |
     | Accounts | <Icon .../> | <Icon .../> |
     ```

3. **Capabilities notes**
   - Account provisioning/deprovisioning support
   - Special permissions or requirements
   - Secrets syncing capability
   - Any inherited permissions or special behaviors

4. **Gather [App] credentials**
   - Step-by-step instructions for creating API tokens, service accounts, apps, etc.
   - Use `<Warning>` for permission requirements
   - Use `<Tip>` for helpful context
   - Use `<Steps>` component for procedures
   - Include screenshots in `/images/product/assets/` when helpful

5. **Configure the [App] connector**
   - Use `<Tabs>` with "Cloud-hosted" and "Self-hosted" options
   - Cloud-hosted: UI-based setup in ConductorOne
   - Self-hosted: Kubernetes deployment with YAML configs

## Writing Standards for Connectors

### Connector Names
- Use official product names (e.g., "Okta", "GitHub", "Microsoft Entra ID")
- Include version numbers when multiple versions exist (e.g., "Okta v2", "GitHub v2")
- Use "connector" not "integration" in most contexts

### Credentials Section
- Always start with permission requirements in a `<Warning>` block
- Provide multiple options when available (e.g., PAT vs. GitHub App)
- Use descriptive option headers: "Option 1: Use a personal access token"
- Include scope/permission lists in bullet format
- Warn about security implications of broad permissions

### Configuration Instructions

#### Cloud-hosted tab
- Start with: "Follow these instructions to use a built-in, no-code connector hosted by ConductorOne."
- Use numbered `<Steps>` for the setup process
- Standard flow:
  1. Navigate to Connectors > Add connector
  2. Search for connector name
  3. Choose app setup method (unmanaged/managed/new)
  4. Set owner
  5. Configure settings
  6. Verify sync

#### Self-hosted tab
- Start with: "Follow these instructions to use the [App](github-link) connector, hosted and run in your own environment."
- Include link to GitHub repo
- Break into clear steps:
  - Step 1: Set up connector in ConductorOne UI
  - Step 2: Create Kubernetes configuration files
  - Step 3: Deploy the connector
- Provide complete YAML examples in expandable code blocks
- Include both secrets and deployment manifests

### Code Blocks
- Always use `yaml expandable` for Kubernetes configs
- Always use `bash` for shell commands
- Include comments explaining key configuration values
- Use environment variable placeholders: `<ConductorOne client ID>`

### Capabilities Table Icons
Reference the capabilities.mdx file for the standard icon set:
- Cloud hosting: `<Icon icon="cloud" />`
- Self-hosted: `<Icon icon="plug" />`
- Entitlement provisioning: `<Icon icon="key" />`
- Account provisioning: `<Icon icon="user" />`
- Account deprovisioning: `<Icon icon="face-confused" />`
- Secrets sync: `<Icon icon="face-shush" />`
- Ticketing: `<Icon icon="ticket" />`
- Last login: `<Icon icon="clock" />`
- Password vault: `<svg>...</svg>` (see capabilities.mdx for full SVG)
- Shadow apps: `<Icon icon="flashlight" />`

## Common Patterns

### Permission warnings
```markdown
<Warning>
The **write::org** scope is used by ConductorOne when automatically provisioning and deprovisioning access. **If you do not want ConductorOne to perform these tasks, do not give your token this scope.**
</Warning>
```

### Optional configuration steps
```markdown
<Step>
**Optional.** Enable **Sync secrets** to display them on the [Inventory page](/product/admin/inventory).
</Step>
```

### Completion messages
End with: "**That's it!** Your [App] connector is now pulling access data into ConductorOne."

### What's next sections
Include when relevant (e.g., for identity providers that SCIM to other apps)

## Special Connector Types

### SQL/Custom Connectors
- Include extensive YAML configuration documentation
- Provide complete example configurations
- Explain each section: `connect`, `resource_types`, `list`, `map`, `pagination`, `entitlements`, `grants`, `provisioning`
- Use expandable code blocks for long examples

### Specialty Connectors
- Clearly explain the specific use case (e.g., "Okta AWS Federation")
- Note any limitations or special requirements

### Data Center/On-Prem Versions
- Clearly distinguish from cloud versions
- Note self-hosted requirement if cloud hosting isn't available

## File Naming
- Use lowercase with hyphens: `okta-v2.mdx`, `github-enterprise.mdx`
- Include version numbers: `-v2`, `-v1`
- Use official product names in file names

## Navigation
Connector docs live in the `/baton/` directory and are organized in docs.json under the Baton/Connectors section.

## Links
- Link to related product docs: `/product/admin/provisioning`, `/product/admin/account-provisioning`, `/product/admin/inventory`
- Link to GitHub repos: `https://github.com/ConductorOne/baton-[connector-name]`
- Link to vendor documentation when referencing external setup steps

## Terminology
- "Connector" not "integration" (except in specific contexts)
- "Sync" for read operations
- "Provision" for write operations
- "Cloud-hosted" vs "Self-hosted" (not "SaaS" vs "on-prem")
- "Entitlements" not "permissions" (in most contexts)
- "Accounts" not "users" (in connector context)
- "Resources" for groups, roles, repos, etc.

## Testing Reminders
- Verify all credential creation steps
- Test both cloud-hosted and self-hosted setup paths
- Confirm YAML configurations are valid
- Check that all links work
- Validate icon syntax matches capabilities.mdx
