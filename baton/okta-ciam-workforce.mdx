---
title: "Set up an Okta CIAM Workforce connector"
og:title: "Set up an Okta CIAM Workforce connector"
description: "ConductorOne provides identity governance and just-in-time provisioning for Okta CIAM for Workforce. Integrate your Okta CIAM instance with ConductorOne to run user access reviews (UARs), enable just-in-time access requests, and automatically provision group membership."
og:description: "ConductorOne provides identity governance and just-in-time provisioning for Okta CIAM for Workforce. Integrate your Okta CIAM instance with ConductorOne to run user access reviews (UARs), enable just-in-time access requests, and automatically provision group membership."
sidebarTitle: "Okta CIAM Workforce"
---

<Tip>
**Okta CIAM for Workforce** is Okta's customer identity and access management solution designed for workforce use cases. This connector is specifically designed for CIAM Workforce environments and includes email domain filtering capabilities.
</Tip>

## Capabilities

| Resource | Sync | Provision |
| :--- | :--- | :--- |
| Users | <Icon icon="square-check" iconType="solid"  color="#65DE23"/> |  |
| Groups | <Icon icon="square-check" iconType="solid"  color="#65DE23"/> | <Icon icon="square-check" iconType="solid"  color="#65DE23"/> |
| Roles | <Icon icon="square-check" iconType="solid"  color="#65DE23"/> |  |
| Custom roles | <Icon icon="square-check" iconType="solid"  color="#65DE23"/> |  |

The Okta CIAM Workforce connector supports provisioning for group membership only. You can grant and revoke user access to groups through ConductorOne.

This connector does not support user provisioning or deprovisioning. User management must be handled directly in Okta CIAM.

## Prerequisites

Before you begin, ensure you have:

- An Okta CIAM for Workforce account with administrative access
- Permission to create API tokens in Okta
- The domain URL for your Okta CIAM instance (e.g., `company.okta.com`)
- A list of email domains you want to filter users by (required)

## Gather Okta CIAM credentials

Configuring the connector requires you to pass in credentials generated in Okta CIAM. Gather these credentials before you move on.

### Create an API token

<Steps>
<Step>
Log into your Okta CIAM for Workforce instance as an administrator.
</Step>
<Step>
Navigate to **Security** > **API** and click **Tokens**.
</Step>
<Step>
Click **Create Token**.
</Step>
<Step>
Give your token a name, such as "ConductorOne Integration", and click **Create Token**.
</Step>
<Step>
Copy and save the new API token securely. You won't be able to view it again.
</Step>
</Steps>

<Warning>
The API token inherits the permissions of the user who creates it. Ensure the user has appropriate permissions to:
- Read users, groups, and roles
- Manage group membership (if you want to enable provisioning)
</Warning>

### Determine your email domains

The Okta CIAM Workforce connector requires you to specify which email domains should be included in the sync. This allows you to filter users in multi-tenant environments.

For example, if you want to sync only users with `@example.com` and `@company.com` email addresses, you would provide: `example.com,company.com`

**That's it!** Next, move on to the connector configuration instructions.

## Configure the Okta CIAM Workforce connector

<Warning>
To complete this task, you'll need:

- The **Connector Administrator** or **Super Administrator** role in ConductorOne
- Access to the Okta CIAM credentials generated by following the instructions above
</Warning>

<Tabs>
<Tab title="Cloud-hosted">
**Follow these instructions to use a built-in, no-code connector hosted by ConductorOne.**

<Steps>
<Step>
In ConductorOne, navigate to **Admin** > **Connectors** and click **Add connector**.
</Step>
<Step>
Search for **Okta CIAM Workforce** and click **Add**.
</Step>
<Step>
Choose how to set up the new Okta CIAM Workforce connector:

   - Add the connector to a currently unmanaged app (select from the list of apps that were discovered in your identity, SSO, or federation provider that aren't yet managed with ConductorOne)

   - Add the connector to a managed app (select from the list of existing managed apps)

   - Create a new managed app
</Step>
<Step>
Set the owner for this connector. You can manage the connector yourself, or choose someone else from the list of ConductorOne users. Setting multiple owners is allowed.

   If you choose someone else, ConductorOne will notify the new connector owner by email that their help is needed to complete the setup process.
</Step>
<Step>
Click **Next**.
</Step>
<Step>
Find the **Settings** area of the page and click **Edit**.
</Step>
<Step>
Enter your Okta CIAM domain (e.g., `company.okta.com`) into the **Domain** field.
</Step>
<Step>
Paste your API token into the **API token** field.
</Step>
<Step>
Enter your comma-separated email domains (e.g., `example.com,company.com`) into the **Email domains** field.
</Step>
<Step>
**Optional.** If you want to filter groups by name, enter a string in the **Group name filter** field. Only groups containing this string will be synced.
</Step>
<Step>
Click **Save**.
</Step>
<Step>
The connector's label changes to **Syncing**, followed by **Connected**. You can view the logs to ensure that information is syncing.
</Step>
</Steps>

**That's it!** Your Okta CIAM Workforce connector is now pulling access data into ConductorOne.
</Tab>

<Tab title="Self-hosted">
**Follow these instructions to use the [Okta CIAM Workforce](https://github.com/conductorone/baton-okta-ciam-workforce) connector, hosted and run in your own environment.**

When running in service mode on Kubernetes, a self-hosted connector maintains an ongoing connection with ConductorOne, automatically syncing and uploading data at regular intervals. This data is immediately available in the ConductorOne UI for access reviews and access requests.

### Step 1: Set up a new Okta CIAM Workforce connector

<Steps>
<Step>
In ConductorOne, navigate to **Admin** > **Connectors** and click **Add connector**.
</Step>
<Step>
Search for **Baton** and click **Add**.
</Step>
<Step>
Choose how to set up the new Okta CIAM Workforce connector:

   - Add the connector to a currently unmanaged app (select from the list of apps that were discovered in your identity, SSO, or federation provider that aren't yet managed with ConductorOne)

   - Add the connector to a managed app (select from the list of existing managed apps)

   - Create a new managed app
</Step>
<Step>
Set the owner for this connector. You can manage the connector yourself, or choose someone else from the list of ConductorOne users. Setting multiple owners is allowed.

   If you choose someone else, ConductorOne will notify the new connector owner by email that their help is needed to complete the setup process.
</Step>
<Step>
Click **Next**.
</Step>
<Step>
In the **Settings** area of the page, click **Edit**.
</Step>
<Step>
Click **Rotate** to generate a new Client ID and Secret.

   Carefully copy and save these credentials. We'll use them in Step 2.
</Step>
</Steps>

### Step 2: Create Kubernetes configuration files

Create two Kubernetes manifest files for your Okta CIAM Workforce connector deployment:

#### Secrets configuration

```yaml expandable
# baton-okta-ciam-workforce-secrets.yaml
apiVersion: v1
kind: Secret
metadata:
  name: baton-okta-ciam-workforce-secrets
type: Opaque
stringData:
  # ConductorOne credentials
  BATON_CLIENT_ID: <ConductorOne client ID>
  BATON_CLIENT_SECRET: <ConductorOne client secret>

  # Okta CIAM credentials
  BATON_DOMAIN: <Your Okta CIAM domain>
  BATON_API_TOKEN: <Okta API token>
  BATON_EMAIL_DOMAINS: <Comma-separated email domains>

  # Optional: include if you want ConductorOne to provision group membership using this connector
  BATON_PROVISIONING: "true"

  # Optional: include if you want to filter groups by name
  BATON_GROUP_NAME_FILTER: <string to filter group names>
```

See the [connector's README](https://github.com/conductorone/baton-okta-ciam-workforce) or run `--help` to see all available configuration flags and environment variables.

#### Deployment configuration

```yaml expandable
# baton-okta-ciam-workforce.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: baton-okta-ciam-workforce
  labels:
    app: baton-okta-ciam-workforce
spec:
  selector:
    matchLabels:
      app: baton-okta-ciam-workforce
  template:
    metadata:
      labels:
        app: baton-okta-ciam-workforce
        baton: true
        baton-app: okta-ciam-workforce
    spec:
      containers:
      - name: baton-okta-ciam-workforce
        image: ghcr.io/conductorone/baton-okta-ciam-workforce:latest
        imagePullPolicy: IfNotPresent
        env:
        - name: BATON_HOST_ID
          value: baton-okta-ciam-workforce
        envFrom:
        - secretRef:
            name: baton-okta-ciam-workforce-secrets
```

### Step 3: Deploy the connector

<Steps>
<Step>
Create a namespace in which to run ConductorOne connectors (if desired), then apply the secret config and deployment config files.
</Step>
<Step>
Check that the connector data uploaded correctly. In ConductorOne, click **Applications**. On the **Managed apps** tab, locate and click the name of the application you added the Okta CIAM Workforce connector to. Okta CIAM data should be found on the **Entitlements** and **Accounts** tabs.
</Step>
</Steps>

**That's it!** Your Okta CIAM Workforce connector is now pulling access data into ConductorOne.
</Tab>
</Tabs>


