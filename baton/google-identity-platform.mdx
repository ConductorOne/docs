---
title: "Set up a Google Identity Platform connector"
og:title: "Set up a Google Identity Platform connector"
description: "ConductorOne provides identity governance for Google Identity Platform. Integrate your Google Identity Platform instance with ConductorOne to run user access reviews (UARs) and enable just-in-time access requests."
og:description: "ConductorOne provides identity governance for Google Identity Platform. Integrate your Google Identity Platform instance with ConductorOne to run user access reviews (UARs) and enable just-in-time access requests."
sidebarTitle: "Google Identity Platform "
---

## Capabilities

| Resource | Sync | Provision |
| :--- | :--- | :--- |
| Accounts | <Icon icon="square-check" iconType="solid"  color="#65DE23"/> |  |

## Gather Google Identity Platform credentials 

Configuring the connector requires you to pass in credentials generated in Google Identity Platform. Gather these credentials before you move on. 

<Warning>
A user with the **Super Admin** role in Google Identity Platform must perform this task.
</Warning>

### Create a new project

<Steps>
<Step>
As a Google Identity Platform Super Admin, sign in to [https://console.cloud.google.com](https://console.cloud.google.com/).
</Step>
<Step>
In the toolbar, click the project select dropdown, and click **NEW PROJECT**.

   <Frame>
   <img src="/images/product/assets/google-1.png" alt="" />
   </Frame>

   <Frame>
   <img src="/images/product/assets/google-2.png" alt="" />
   </Frame>

</Step>
<Step>
Create a new project for your organization:

   - **Project Name**: Choose a names, such as "ConductorOne Integration"
   - **Organization/Location**: Choose the appropriate Organization/Location

   <Frame>
   <img src="/images/product/assets/google-3.png" alt="" />
   </Frame>
</Step>
<Step>
After the project is created, make sure the correct project is selected in the dropdown at the top.

   <Frame>
   <img src="/images/product/assets/google-4.png" alt="" />
   </Frame>
</Step>
</Steps>
### Enable the API

<Steps>
<Step>
In the navigation menu, navigate to > **APIs & Services** > **Library**.

   <Frame>
   <img src="/images/product/assets/google-5.png" alt="" />
   </Frame>
</Step>
<Step>
Search for and select the Identity Toolkit API.

   <Frame>
   <img src="/images/product/assets/google-6.png" alt="" />
   </Frame>
</Step>
<Step>
Click **Enable**.


   <Frame>
   <img src="/images/product/assets/google-7.png" alt="" />
   </Frame>
</Step>
</Steps>
### Create a service account

<Steps>
<Step>
In the navigation menu, navigate to > **APIs & Services** > **Credentials**.

   <Frame>
   <img src="/images/product/assets/google-8.png" alt="" />
   </Frame>
</Step>
<Step>
Select **CREATE CREDENTIALS** > **Service Account**.

   <Frame>
   <img src="/images/product/assets/google-9.png" alt="" />
   </Frame>
</Step>
<Step>
Under **Service account details**, fill in the following:

   - **Service account name:** ConductorOne Integration
   - **Service account description:** for example, "Service account for ConductorOne Google Identity Platform integration"
   - Click **CREATE AND CONTINUE**

   <Frame>
   <img src="/images/product/assets/google-10.png" alt="" />
   </Frame>
</Step>
<Step>
Under **Grant this service account access to a project**, grant the **Identity Toolkit Viewer** role.

   <Frame>
   <img src="/images/product/assets/google-11.png" alt="" />
   </Frame>
</Step>
<Step>
Leave **Grant users access to this service account** blank.
</Step>
<Step>
Click **DONE**.

   <Frame>
   <img src="/images/product/assets/google-12.png" alt="" />
   </Frame>
</Step>
</Steps>

### Get credentials

<Steps>
<Step>
Navigate back to **APIs & Services** > **Credentials** and select the service account you just created.

  <Frame>
  <img src="/images/product/assets/google-13.png" alt="" />
  </Frame>

  <Frame>
  <img src="/images/product/assets/google-14.png" alt="" />
  </Frame>
</Step>
<Step>
On the **Service Account Details Page**, click **KEYS**.

  <Frame>
  <img src="/images/product/assets/google-15.png" alt="" />
  </Frame>
</Step>
<Step>
Click **ADD KEY** > **Create new key**.

  <Frame>
  <img src="/images/product/assets/google-16.png" alt="" />
  </Frame>
</Step>
<Step>
Choose **JSON** and click **CREATE**. The newly created key is automatically downloaded.

  <Frame>
  <img src="/images/product/assets/google-17.png" alt="" />
  </Frame>

  <Frame>
  <img src="/images/product/assets/google-18.png" alt="" />
  </Frame>
</Step>
<Step>
Keep the downloaded file safe, you'll use it to set up the connector.
</Step>
</Steps>

**That's it!** Next, move on to the connector configuration instructions. 

## Configure the Google Identity Platform connector

<Warning>
To complete this task, you'll need:

- The **Connector Administrator** or **Super Administrator** role in ConductorOne
- Access to the set of Google Identity Platform credentials generated by following the instructions above
</Warning>

<Tabs>
<Tab title="Cloud-hosted">
**Follow these instructions to use a built-in, no-code connector hosted by ConductorOne.**

<Steps>
<Step>
In ConductorOne, navigate to **Admin** > **Connectors** and click **Add connector**.
</Step>
<Step>
Search for **Google Identity Platform** and click **Add**.
</Step>
<Step>
Choose how to set up the new Google Identity Platform connector:

   - Add the connector to a currently unmanaged app (select from the list of apps that were discovered in your identity, SSO, or federation provider that aren't yet managed with ConductorOne)

   - Add the connector to a managed app (select from the list of existing managed apps)

   - Create a new managed app
</Step>
<Step>
Set the owner for this connector. You can manage the connector yourself, or choose someone else from the list of ConductorOne users. Setting multiple owners is allowed.

   If you choose someone else, ConductorOne will notify the new connector owner by email that their help is needed to complete the setup process.
</Step>
<Step>
Click **Next**.
</Step>
<Step>
Find the **Settings** area of the page and click **Edit**.
</Step>
<Step>
In the **Credentials (JSON)** area, click **Choose file** and upload the JSON file.
</Step>
<Step>
Click **Save**.
</Step>
<Step>
The connector's label changes to **Syncing**, followed by **Connected**. You can view the logs to ensure that information is syncing.
</Step>
</Steps>

**That's it!** Your Google Identity Platform connector is now pulling access data into ConductorOne.
</Tab>

<Tab title="Self-hosted">
**Follow these instructions to use the [Google Identity Platform](https://github.com/ConductorOne/baton-google-identity-platform) connector, hosted and run in your own environment.** 

When running in service mode on Kubernetes, a self-hosted connector maintains an ongoing connection with ConductorOne, automatically syncing and uploading data at regular intervals. This data is immediately available in the ConductorOne UI for access reviews and access requests.

### Step 1: Set up a new Google Identity Platform connector

<Steps>
<Step>
In ConductorOne, navigate to **Connectors** > **Add connector**.
</Step>
<Step>
Search for **Baton** and click **Add**.
</Step>
<Step>
Choose how to set up the new Google Identity Platform connector:

   - Add the connector to a currently unmanaged app (select from the list of apps that were discovered in your identity, SSO, or federation provider that aren't yet managed with ConductorOne)

   - Add the connector to a managed app (select from the list of existing managed apps)

   - Create a new managed app
</Step>
<Step>
Set the owner for this connector. You can manage the connector yourself, or choose someone else from the list of ConductorOne users. Setting multiple owners is allowed.

   If you choose someone else, ConductorOne will notify the new connector owner by email that their help is needed to complete the setup process.
</Step>
<Step>
Click **Next**.
</Step>
<Step>
In the **Settings** area of the page, click **Edit**.
</Step>
<Step>
Click **Rotate** to generate a new Client ID and Secret.

   Carefully copy and save these credentials. We'll use them in Step 2.
</Step>
</Steps> 

### Step 2: Create Kubernetes configuration files

Create two Kubernetes manifest files for your Google Identity Platform connector deployment:

#### Secrets configuration

```yaml expandable
# baton-google-identity-platform-secrets.yaml
apiVersion: v1
kind: Secret
metadata:
  name: baton-google-identity-platform-secrets
type: Opaque
data:
  # ConductorOne credentials
  BATON_CLIENT_ID: <base64 encoded ConductorOne client ID>
  BATON_CLIENT_SECRET: <base64 encoded ConductorOne client secret>
  
  # Google Identity Platform credentials
  BATON_CUSTOMER_ID: <base64 encoded customer ID>
  BATON_DOMAIN: <base64 encoded domain>
  BATON_ADMINISTRATOR_EMAIL: <base64 encoded administrator email>
  BATON_CREDENTIALS_JSON: <base64 encoded credentials JSON>
```

**Base64 Encoding:** Use `echo -n "your-value" | base64` to encode your secrets,

See the connector's README or run `--help` to see all available configuration flags and environment variables.

```yaml expandable
# baton-google-identity-platform.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: baton-google-identity-platform
  labels:
    app: baton-google-identity-platform
spec:
  selector:
    matchLabels:
      app: baton-google-identity-platform
  template:
    metadata:
      labels:
        app: baton-google-identity-platform
        baton: true
        baton-app: google-identity-platform
    spec:
      containers:
      - name: baton-google-identity-platform
        image: ghcr.io/conductorone/baton-google-identity-platform:latest
        imagePullPolicy: IfNotPresent
        env:
        - name: BATON_HOST_ID
          value: baton-google-identity-platform
        envFrom:
        - secretRef:
            name: baton-google-identity-platform-secrets
```

### Step 3: Deploy the connector

<Steps>
<Step>
Create a namespace in which to run ConductorOne connectors (if desired), then apply the secret config and deployment config files.
</Step>
<Step>
Check that the connector data uploaded correctly. In ConductorOne, click **Applications**. On the **Managed apps** tab, locate and click the name of the application you added the Google Identity Platform connector to. Google Identity Platform data should be found on the **Entitlements** and **Accounts** tabs.
</Step>
</Steps>

**That's it!** Your Google Identity Platform connector is now pulling access data into ConductorOne.
</Tab>
</Tabs>




















